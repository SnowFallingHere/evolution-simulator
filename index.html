<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>进化模拟器</title>
        <!-- 在 index.html 的 head 部分替换原有的 style.css 引入 -->
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/tabs.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <link rel="stylesheet" href="./css/pages.css">
    <style>
        /* 临时样式，确保开始页面可见 */
        。start-page {
            display: flex !important;
        }
        。page {
            display: none;
        }
    </style>
</head>
<body class="light-theme">
    <!-- 主题切换按钮 -->
    <button id="theme-toggle" class="theme-toggle">🌙</button>
    
    <!-- 开始页面将由JS创建 -->
    
    <!-- 死亡页面 - 初始隐藏 -->
    <div id="death" class="page death-page">
        <div class="death-message">你失败了</div>
        <button onclick="window.evolutionRouteSystem.showPage('start')" style="margin-top: 20px; padding: 10px 20px; background: #333; color: white; border: none; border-radius: 5px; cursor: pointer;">返回开始</button>
    </div>

    <!-- 进行中页面 - 初始隐藏 -->
    <div id="ongoing" class="page ongoing-page">
        <div class="container">
            <!-- 顶部标题区域 -->
            <header class="header">
                <div id="game-time-display" style="position: absolute; left: 10px; font-size: 14px;">第1天 00:00</div>
                <h1>进化模拟器</h1>
            </header>
            
            <!-- 主要内容区域 -->
            <main class="main-content">
                <!-- 左侧状态栏 -->
                <section class="left-panel">
                    <h2>状态栏 <span id="day-night-hint" style="font-size: 12px; color: #666; margin-left: 10px;"></span></h2>
                    <div class="status-item">
                        <div class="status-label">进化等级 <span id="evolution-level">0</span>/100</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">进化点数 <span id="current-points">0</span></div>
                        <div class="progress-container">
                            <div id="evolution-points-progress" class="progress-bar">
                                <div id="evolution-points-filled" class="progress-filled" style="width: 0%;"></div>
                            </div>
                            <div class="remaining-text">剩余：<span id="remaining-points">--</span></div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">属性状态</div>
                        <div class="sub-item">
                            <div class="sub-label">力量值 <span id="strength-value">1.0</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 0.6%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sub-item">
                            <div class="sub-label">速度值 <span id="speed-value">1.0</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 0.6%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sub-item" id="intelligence-item">
                            <div class="sub-label">智慧值 <span id="intelligence-value">1.0</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 0.6%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">健康状态</div>
                        <div class="sub-item">
                            <div class="sub-label">饥饿值 <span id="hunger-value">0</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 0%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sub-item" id="mental-health-item">
                            <div class="sub-label">心理健康值 <span id="mental-health-value">100</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 100%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sub-item">
                            <div class="sub-label">疾病值 <span id="disease-value">0</span></div>
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-filled" style="width: 0%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="status-item food-storage-item">
                        <div class="status-label">食物储存 <span id="food-storage-value">20</span></div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-filled" style="width: 10%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">种族</div>
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-filled" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- 中部选择与事件 -->
                <section class="center-panel">
                    <h2>选择与事件</h2>
                    <div class="button-row">
                        <button id="get-evolution-points" class="action-btn">获取进化点数</button>
                        <button id="hunt-btn" class="action-btn">
                            进行捕猎
                            <div class="cooldown-progress"></div>
                        </button>
                        <button id="rest-btn" class="action-btn">
                            进行休息
                            <div class="cooldown-progress"></div>
                        </button>
                        <button id="dormancy-btn" class="action-btn">
                            进行蛰伏
                            <div class="cooldown-progress"></div>
                        </button>
                        <button id="explore-btn" class="action-btn">
                            探索远处
                            <div class="cooldown-progress"></div>
                        </button>
                    </div>
                    <div class="button-row">
                        <button id="interact-btn" class="action-btn">与其他物种互动</button>
                        <button id="exercise-btn" class="action-btn">进行锻炼</button>
                        <button id="think-btn" class="action-btn">进行思考</button>
                        <button id="tool-btn" class="action-btn">尝试制作工具</button>
                        <button id="social-btn" class="action-btn">尝试交友</button>
                    </div>
                </section>
                
                <!-- 右侧时间事记 -->
                <section class="right-panel">
                    <h2>时间事记</h2>
                    <div class="timeline-section">
                        <h3>日常活动</h3>
                        <div class="timeline-content" id="daily-activities">
                            <!-- 日常活动内容将在这里显示 -->
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="timeline-section">
                        <h3>关键事件节点</h3>
                        <div class="timeline-content" id="key-events">
                            <div id="evolution-button-container"></div>
                            <div id="key-events-list" class="key-events-list">
                                <!-- 关键事件节点内容将在这里显示 -->
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- 终点页面 - 初始隐藏 -->
    <div id="theEnd" class="page end-page">
        <div class="end-overlay"></div>
        <div class="end-message">你进化到了终点</div>
        <button onclick="window.evolutionRouteSystem.showPage('start')" style="margin-top: 20px; padding: 10px 20px; background: #333; color: white; border: none; border-radius: 5px; cursor: pointer;">返回开始</button>
    </div>

    <!-- 开发者控制台 - 初始隐藏 -->
    <div id="de_console" class="console">
        <div class="console-header">
            开发者控制台
            <button id="close-console" class="close-btn">×</button>
        </div>
        <div class="console-body">
            <div class="console-section">
                <h3>页面切换</h3>
                <button id="show-death" class="console-btn">死亡页面</button>
                <button id="show-ongoing" class="console-btn">进行中页面</button>
                <button id="show-theEnd" class="console-btn">终点页面</button>
            </div>
            <div class="console-section">
                <h3>时间控制</h3>
                <button id="pause-time" class="console-btn">暂停时间</button>
            </div>
            <!-- 新的事件选择界面 -->
            <div class="console-section">
                <h3>事件控制</h3>
                
                <!-- 区域选择 -->
                <div class="area-tabs">
                    <button class="area-tab-btn active" data-area="sea">海洋事件</button>
                    <button class="area-tab-btn" data-area="land">陆地事件</button>
                    <button class="area-tab-btn" data-area="sky">天空事件</button>
                </div>
                
                <div class="event-tabs">
                    <button class="event-tab-btn active" data-tab="common">普通事件</button>
                    <button class="event-tab-btn" data-tab="rare">稀有事件</button>
                    <button class="event-tab-btn" data-tab="epic">史诗事件</button>
                </div>
                <div class="event-tab-content">
                    <div id="common-events" class="event-tab-pane active">
                        <!-- 普通事件按钮将在这里动态生成 -->
                    </div>
                    <div id="rare-events" class="event-tab-pane">
                        <!-- 稀有事件按钮将在这里动态生成 -->
                    </div>
                    <div id="epic-events" class="event-tab-pane">
                        <!-- 史诗事件按钮将在这里动态生成 -->
                    </div>
                </div>
                <button id="clear-events" class="console-btn">清除所有事件</button>
            </div>
            <div class="console-section">
                <h3>进化点数控制</h3>
                <input type="number" id="set-points-input" placeholder="输入进化点数">
                <button id="set-points" class="console-btn">设置进化点数</button>
            </div>
            <div class="console-section">
                <h3>等级控制</h3>
                <input type="number" id="set-level-input" placeholder="输入等级 (0-100)" min="0" max="100">
                <button id="set-level" class="console-btn">设定等级</button>
            </div>
            <div class="console-section">
                <h3>属性控制</h3>
                <h4>力量</h4>
                <div class="attribute-control">
                    <input type="number" id="set-strength-input" placeholder="力量值" min="0" max="180" step="0.1">
                    <button id="set-strength" class="console-btn">设定</button>
                </div>
                <h4>速度</h4>
                <div class="attribute-control">
                    <input type="number" id="set-speed-input" placeholder="速度值" min="0" max="180" step="0.1">
                    <button id="set-speed" class="console-btn">设定</button>
                </div>
                <h4>智慧</h4>
                <div class="attribute-control">
                    <input type="number" id="set-intelligence-input" placeholder="智慧值" min="0" max="180" step="0.1">
                    <button id="set-intelligence" class="console-btn">设定</button>
                </div>
            </div>
            <div class="console-section">
                <h3>状态控制</h3>
                <h4>饥饿值</h4>
                <div class="attribute-control">
                    <input 输入="number" id="set-hunger-input" placeholder="饥饿值" min="0" max="100">
                    <button id="set-hunger" class="console-btn">设定</button>
                </div>
                <h4>疾病值</h4>
                <div class="attribute-control">
                    <input 输入="number" id="set-disease-input" placeholder="疾病值" min="0" max="100">
                    <button id="set-disease" class="console-btn">设定</button>
                </div>
                <h4>心理健康值</h4>
                <div class="attribute-control">
                    <input 输入="number" id="set-mental-health-input" placeholder="心理健康值" min="0" max="100">
                    <button id="set-mental-health" class="console-btn">设定</button>
                </div>
                <!-- 新增食物储存控制 -->
                <h4>食物储存</h4>
                <div class="attribute-control">
                    <input 输入="number" id="set-food-storage-input" placeholder="食物储存数量" min="0">
                    <button id="set-food-storage" class="console-btn">设定</button>
                </div>
            </div>
            <div class="console-section">
                <h3>等级需求列表</h3>
                <div class="requirements-container">
                    <div id="requirements-list"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- 按顺序引入JS文件 -->
    <script src="./js/core/core-system.js"></script>
    <script src="./js/core/cooling-btn.js"></script>
    <!-- 事件数据文件 -->
    <script src="./js/data/event-data-sea.js"></script>
    <script src="./js/data/event-data-land.js"></script>
    <script src="./js/data/event-data-sky.js"></script>
    <!-- 游戏系统文件 -->
    <script src="./js/systems/event-system.js"></script>
    <script src="./js/systems/state-system.js"></script>
    <script src="./js/systems/activity-system.js"></script>
    <script src="./js/systems/evolution-system.js"></script>
    <script src="./js/systems/evolution_route.js"></script>
    <!-- 主程序入口 -->
    <script src="./js/main.js"></script>
</body>
</html>

